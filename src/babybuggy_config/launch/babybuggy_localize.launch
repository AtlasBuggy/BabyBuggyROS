<launch>
    <!-- <arg name="map_path" value="hunt_circuit.yaml"/> -->

    <node pkg="map_server" type="map_server" name="map_server" output="screen" args="$(find dead_reckoning)/maps/course_full_3.yaml"/>

    <node pkg="amcl" type="amcl" name="amcl">
      <rosparam>
        min_particles: 100
        max_particles: 5000
        kld_err: 0.01
        kld_z: 0.99
        update_min_d: 0.05
        # update_min_a: 0.5236
        resample_interval: 5
        transform_tolerance: 0.1
        recovery_alpha_slow: 0.0
        recovery_alpha_fast: 0.0
        initial_pose_x: 0.0
        initial_pose_y: 0.0
        initial_pose_a: 0.0
        initial_cov_xx: 0.25
        initial_cov_yy: 0.25
        initial_cov_aa: 0.0685388
        gui_publish_rate: -1.0
        save_pose_rate: 0.5
        use_map_topic: true
        first_map_only: true

        laser_min_range: 0
        laser_max_range: 30
        laser_max_beams: 180
        laser_z_hit: 0.95
        laser_z_short: 0.1
        laser_z_max: 0.05
        laser_z_rand: 0.05
        laser_sigma_hit: 0.2
        laser_lambda_short: 0.1
        laser_likelihood_max_dist: 2.0
        laser_model_type: likelihood_field

        odom_model_type: diff-corrected
        odom_alpha1: 0.01
        odom_alpha2: 0.007
        odom_alpha3: 0.005
        odom_alpha4: 0.01
        odom_alpha5: 0.01
        odom_frame_id: odom
        base_frame_id: base_link
        global_frame_id: map
        tf_broadcast: true
      </rosparam>
    </node>
</launch>
